<h3 id="estimate-the-radius-at-several-elevations">Estimate the radius at several elevations</h3>
<h4 id="retrieve-saved-model">Retrieve Saved Model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">make_model</span>( <span class="kw">readRDS</span>( MODEL_FILE ) )</code></pre></div>
<h4 id="use-these-elevations-and-x-coordinates">Use these elevations and X-coordinates</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  --- mini-configuration ---</span>
heights        &lt;-<span class="st"> </span><span class="kw">seq</span>( <span class="fl">0.10</span>, <span class="fl">0.60</span>, <span class="dt">by=</span><span class="fl">0.05</span> )
points_along_x &lt;-<span class="st"> </span><span class="kw">seq</span>( <span class="fl">0.20</span>, <span class="fl">0.80</span>, <span class="dt">by=</span><span class="fl">0.05</span> )</code></pre></div>
<h4 id="get-perimeter-data">Get perimeter data</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(
    heights                                 <span class="co"># for each height, h</span>
  , ~<span class="kw">map2</span>(
         .x 
       , points_along_x                     <span class="co"># for each point along the perimeter, x</span>
       , ~<span class="kw">get_minz_at_hx</span>(                   <span class="co"># return minimum( z ) as partial radius at ( h, x )</span>
            model
          , <span class="dt">h=</span>.x
          , <span class="dt">x=</span>.y
          , <span class="dt">fun=</span><span class="st">&#39;min&#39;</span>
         )
     )
) %&gt;%<span class="st"> </span><span class="kw">unlist</span>() -&gt;<span class="st"> </span>perimeter_data</code></pre></div>
<pre><code>## 
## Checking ( 0.10, 0.20 ) ...
## Checking ( 0.10, 0.25 ) ...
## Checking ( 0.10, 0.30 ) ...
## Checking ( 0.10, 0.35 ) ...
## Checking ( 0.10, 0.40 ) ...
## Checking ( 0.10, 0.45 ) ...
## Checking ( 0.10, 0.50 ) ...
## Checking ( 0.10, 0.55 ) ...
## Checking ( 0.10, 0.60 ) ...
## Checking ( 0.10, 0.65 ) ...
## Checking ( 0.10, 0.70 ) ...
## Checking ( 0.10, 0.75 ) ...
## Checking ( 0.10, 0.80 ) ...
## Checking ( 0.15, 0.20 ) ...
## Checking ( 0.15, 0.25 ) ...
## Checking ( 0.15, 0.30 ) ...
## Checking ( 0.15, 0.35 ) ...
## Checking ( 0.15, 0.40 ) ...
## Checking ( 0.15, 0.45 ) ...
## Checking ( 0.15, 0.50 ) ...
## Checking ( 0.15, 0.55 ) ...
## Checking ( 0.15, 0.60 ) ...
## Checking ( 0.15, 0.65 ) ...
## Checking ( 0.15, 0.70 ) ...
## Checking ( 0.15, 0.75 ) ...
## Checking ( 0.15, 0.80 ) ...
## Checking ( 0.20, 0.20 ) ...
## Checking ( 0.20, 0.25 ) ...
## Checking ( 0.20, 0.30 ) ...
## Checking ( 0.20, 0.35 ) ...
## Checking ( 0.20, 0.40 ) ...
## Checking ( 0.20, 0.45 ) ...
## Checking ( 0.20, 0.50 ) ...
## Checking ( 0.20, 0.55 ) ...
## Checking ( 0.20, 0.60 ) ...
## Checking ( 0.20, 0.65 ) ...
## Checking ( 0.20, 0.70 ) ...
## Checking ( 0.20, 0.75 ) ...
## Checking ( 0.20, 0.80 ) ...
## Checking ( 0.25, 0.20 ) ...
## Checking ( 0.25, 0.25 ) ...
## Checking ( 0.25, 0.30 ) ...
## Checking ( 0.25, 0.35 ) ...
## Checking ( 0.25, 0.40 ) ...
## Checking ( 0.25, 0.45 ) ...
## Checking ( 0.25, 0.50 ) ...
## Checking ( 0.25, 0.55 ) ...
## Checking ( 0.25, 0.60 ) ...
## Checking ( 0.25, 0.65 ) ...
## Checking ( 0.25, 0.70 ) ...
## Checking ( 0.25, 0.75 ) ...
## Checking ( 0.25, 0.80 ) ...
## Checking ( 0.30, 0.20 ) ...
## Checking ( 0.30, 0.25 ) ...
## Checking ( 0.30, 0.30 ) ...
## Checking ( 0.30, 0.35 ) ...
## Checking ( 0.30, 0.40 ) ...
## Checking ( 0.30, 0.45 ) ...
## Checking ( 0.30, 0.50 ) ...
## Checking ( 0.30, 0.55 ) ...
## Checking ( 0.30, 0.60 ) ...
## Checking ( 0.30, 0.65 ) ...
## Checking ( 0.30, 0.70 ) ...
## Checking ( 0.30, 0.75 ) ...
## Checking ( 0.30, 0.80 ) ...
## Checking ( 0.35, 0.20 ) ...
## Checking ( 0.35, 0.25 ) ...
## Checking ( 0.35, 0.30 ) ...
## Checking ( 0.35, 0.35 ) ...
## Checking ( 0.35, 0.40 ) ...
## Checking ( 0.35, 0.45 ) ...
## Checking ( 0.35, 0.50 ) ...
## Checking ( 0.35, 0.55 ) ...
## Checking ( 0.35, 0.60 ) ...
## Checking ( 0.35, 0.65 ) ...
## Checking ( 0.35, 0.70 ) ...
## Checking ( 0.35, 0.75 ) ...
## Checking ( 0.35, 0.80 ) ...
## Checking ( 0.40, 0.20 ) ...
## Checking ( 0.40, 0.25 ) ...
## Checking ( 0.40, 0.30 ) ...
## Checking ( 0.40, 0.35 ) ...
## Checking ( 0.40, 0.40 ) ...
## Checking ( 0.40, 0.45 ) ...
## Checking ( 0.40, 0.50 ) ...
## Checking ( 0.40, 0.55 ) ...
## Checking ( 0.40, 0.60 ) ...
## Checking ( 0.40, 0.65 ) ...
## Checking ( 0.40, 0.70 ) ...
## Checking ( 0.40, 0.75 ) ...
## Checking ( 0.40, 0.80 ) ...
## Checking ( 0.45, 0.20 ) ...
## Checking ( 0.45, 0.25 ) ...
## Checking ( 0.45, 0.30 ) ...
## Checking ( 0.45, 0.35 ) ...
## Checking ( 0.45, 0.40 ) ...
## Checking ( 0.45, 0.45 ) ...
## Checking ( 0.45, 0.50 ) ...
## Checking ( 0.45, 0.55 ) ...
## Checking ( 0.45, 0.60 ) ...
## Checking ( 0.45, 0.65 ) ...
## Checking ( 0.45, 0.70 ) ...
## Checking ( 0.45, 0.75 ) ...
## Checking ( 0.45, 0.80 ) ...
## Checking ( 0.50, 0.20 ) ...
## Checking ( 0.50, 0.25 ) ...
## Checking ( 0.50, 0.30 ) ...
## Checking ( 0.50, 0.35 ) ...
## Checking ( 0.50, 0.40 ) ...
## Checking ( 0.50, 0.45 ) ...
## Checking ( 0.50, 0.50 ) ...
## Checking ( 0.50, 0.55 ) ...
## Checking ( 0.50, 0.60 ) ...
## Checking ( 0.50, 0.65 ) ...
## Checking ( 0.50, 0.70 ) ...
## Checking ( 0.50, 0.75 ) ...
## Checking ( 0.50, 0.80 ) ...
## Checking ( 0.55, 0.20 ) ...
## Checking ( 0.55, 0.25 ) ...
## Checking ( 0.55, 0.30 ) ...
## Checking ( 0.55, 0.35 ) ...
## Checking ( 0.55, 0.40 ) ...
## Checking ( 0.55, 0.45 ) ...
## Checking ( 0.55, 0.50 ) ...
## Checking ( 0.55, 0.55 ) ...
## Checking ( 0.55, 0.60 ) ...
## Checking ( 0.55, 0.65 ) ...
## Checking ( 0.55, 0.70 ) ...
## Checking ( 0.55, 0.75 ) ...
## Checking ( 0.55, 0.80 ) ...
## Checking ( 0.60, 0.20 ) ...
## Checking ( 0.60, 0.25 ) ...
## Checking ( 0.60, 0.30 ) ...
## Checking ( 0.60, 0.35 ) ...
## Checking ( 0.60, 0.40 ) ...
## Checking ( 0.60, 0.45 ) ...
## Checking ( 0.60, 0.50 ) ...
## Checking ( 0.60, 0.55 ) ...
## Checking ( 0.60, 0.60 ) ...
## Checking ( 0.60, 0.65 ) ...
## Checking ( 0.60, 0.70 ) ...
## Checking ( 0.60, 0.75 ) ...
## Checking ( 0.60, 0.80 ) ...</code></pre>
<h4 id="clean-the-data">Clean the data</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">perimeter_matrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(
    perimeter_data
  , <span class="dt">ncol     =</span> <span class="dv">3</span>
  , <span class="dt">byrow    =</span> <span class="ot">TRUE</span>
  , <span class="dt">dimnames =</span> <span class="kw">list</span>( <span class="ot">NULL</span>, <span class="kw">c</span>( <span class="st">&#39;height&#39;</span>, <span class="st">&#39;perimeter_x&#39;</span>, <span class="st">&#39;perimeter_y&#39;</span> ))
)</code></pre></div>
<h4 id="remove-invalid-points">Remove invalid points</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">valid_points &lt;-<span class="st"> </span><span class="kw">is.finite</span>( perimeter_matrix[ , <span class="st">&#39;perimeter_y&#39;</span> ] )
perimeter &lt;-<span class="st"> </span><span class="kw">data.frame</span>( perimeter_matrix[ valid_points, ] )
perimeter</code></pre></div>
<pre><code>##     height perimeter_x perimeter_y
## 1     0.10        0.25 0.158070394
## 2     0.10        0.30 0.140423299
## 3     0.10        0.35 0.124680849
## 4     0.10        0.40 0.111629082
## 5     0.10        0.45 0.100777257
## 6     0.10        0.50 0.092919023
## 7     0.10        0.55 0.089777753
## 8     0.15        0.25 0.146162034
## 9     0.15        0.30 0.128174131
## 10    0.15        0.35 0.112690500
## 11    0.15        0.40 0.100321956
## 12    0.15        0.45 0.089247869
## 13    0.15        0.50 0.081561423
## 14    0.15        0.55 0.075048360
## 15    0.15        0.60 0.071986362
## 16    0.15        0.65 0.150882843
## 17    0.20        0.20 0.186331082
## 18    0.20        0.25 0.163684948
## 19    0.20        0.30 0.145402607
## 20    0.20        0.35 0.129750061
## 21    0.20        0.40 0.117002160
## 22    0.20        0.45 0.105773575
## 23    0.20        0.50 0.097971112
## 24    0.20        0.55 0.090850020
## 25    0.20        0.60 0.087858322
## 26    0.20        0.65 0.086233757
## 27    0.20        0.70 0.087278440
## 28    0.20        0.75 0.157810084
## 29    0.25        0.20 0.172172141
## 30    0.25        0.25 0.151863958
## 31    0.25        0.30 0.136063733
## 32    0.25        0.35 0.120714656
## 33    0.25        0.40 0.111353067
## 34    0.25        0.45 0.097910138
## 35    0.25        0.50 0.090262343
## 36    0.25        0.55 0.083964705
## 37    0.25        0.60 0.077109124
## 38    0.25        0.65 0.073341964
## 39    0.25        0.70 0.067355515
## 40    0.25        0.75 0.073148517
## 41    0.25        0.80 0.077067841
## 42    0.30        0.20 0.183839247
## 43    0.30        0.25 0.162702525
## 44    0.30        0.30 0.142387093
## 45    0.30        0.35 0.127266532
## 46    0.30        0.40 0.111909591
## 47    0.30        0.45 0.100900670
## 48    0.30        0.50 0.091976198
## 49    0.30        0.55 0.085218852
## 50    0.30        0.60 0.082610996
## 51    0.30        0.65 0.080070706
## 52    0.30        0.70 0.082940472
## 53    0.30        0.75 0.088616329
## 54    0.30        0.80 0.096524817
## 55    0.35        0.20 0.175318853
## 56    0.35        0.25 0.158900976
## 57    0.35        0.30 0.142620186
## 58    0.35        0.35 0.129090207
## 59    0.35        0.40 0.117337178
## 60    0.35        0.45 0.105792461
## 61    0.35        0.50 0.097473464
## 62    0.35        0.55 0.091004684
## 63    0.35        0.60 0.084990804
## 64    0.35        0.65 0.081904656
## 65    0.35        0.70 0.079091745
## 66    0.35        0.75 0.079412868
## 67    0.35        0.80 0.075358131
## 68    0.40        0.20 0.105472310
## 69    0.40        0.25 0.088416521
## 70    0.40        0.30 0.072541969
## 71    0.40        0.35 0.058972838
## 72    0.40        0.40 0.047954449
## 73    0.40        0.45 0.037708473
## 74    0.40        0.50 0.029277878
## 75    0.40        0.55 0.023376347
## 76    0.40        0.60 0.017447932
## 77    0.40        0.65 0.014531019
## 78    0.40        0.70 0.012298861
## 79    0.40        0.75 0.012345705
## 80    0.40        0.80 0.014840075
## 81    0.45        0.20 0.094599724
## 82    0.45        0.25 0.073760019
## 83    0.45        0.30 0.059928061
## 84    0.45        0.35 0.045195605
## 85    0.45        0.40 0.033423232
## 86    0.45        0.45 0.024138382
## 87    0.45        0.50 0.015875069
## 88    0.45        0.55 0.010891031
## 89    0.45        0.60 0.007159968
## 90    0.45        0.65 0.004250378
## 91    0.45        0.70 0.004039936
## 92    0.45        0.75 0.005001309
## 93    0.45        0.80 0.009468441
## 94    0.50        0.20 0.123395114
## 95    0.50        0.25 0.084671052
## 96    0.50        0.30 0.073863623
## 97    0.50        0.35 0.060131897
## 98    0.50        0.40 0.039466296
## 99    0.50        0.45 0.046456830
## 100   0.50        0.50 0.022567393
## 101   0.50        0.55 0.024303525
## 102   0.50        0.60 0.023418765
## 103   0.50        0.65 0.011386969
## 104   0.50        0.70 0.037389498
## 105   0.50        0.75 0.020640360
## 106   0.50        0.80 0.035515360</code></pre>
<h4 id="save-the-results">Save the results</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">saveRDS</span>( perimeter, PERIMETER_FILE )</code></pre></div>
<p>Bryan, Jenny. 2017. “Happy Git and Github for the UseR.” http://happygitwithr.com.</p>
<p>consortium, 3D-COFORM. 2013. “ARC 3D Webservice.” http://www.3d-coform.eu/index.php/tools/arc-3d-webservice.</p>
<p>Strayer, Nick, and Lucy D’Agostino McGowan. 2016. “How to Make an Rmarkdown Website.” http://nickstrayer.me/RMarkdown_Sites_tutorial/.</p>
